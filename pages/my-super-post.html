<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <title>正则表达式整理</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">herdsman </a></h1>
                <nav><ul>
                    <li><a href="/pages/about-me.html">About Me</a></li>
                    <li><a href="/pages/bi-ji.html">笔记</a></li>
                    <li><a href="/pages/jian-kong.html">监控</a></li>
                    <li><a href="/pages/my-super-post2.html">python处理shell的几个模块</a></li>
                    <li class="active"><a href="/pages/my-super-post.html">正则表达式整理</a></li>
                    <li><a href="/pages/my-super-post-1.html">运维</a></li>
                    <li><a href="/category/python.html">Python</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
    <h1 class="entry-title">正则表达式整理</h1>
    
    <p>This is the content of my super blog post.</p>
<h1>正则表达式整理</h1>
<h3>写这边文章的主要原因其实是因为自己记性不好，每次看完正则表达式之后，在过一段时间之后，基本已经全部忘记了，所以特此整理一下，以便查询！</h3>
<div class="highlight"><pre><span></span>\ 屏蔽特殊字符
^ 匹配开始位置。
$ 匹配结束位置。
* 匹配前面的子表达式零次或多次。
. 匹配一个位置（例如.$表示最后一个字符）
+ 匹配前面的子表达式一次或多次。
? 匹配前面的子表达式零次或一次。
{n}  n是一个非负整数。匹配确定的 n 次。
{n,} n是一个非负整数。至少匹配n 次。
{n,m} m和n均为非负整数，其中n 。最少匹配 n 次且最多匹配 m 次。
[xyz]  匹配所包含的任意一个字符。
[^xyz] 匹配未包含的任意字符。例如， &#39;[^abc]&#39; 可以匹配 &quot;plain&quot; 中的&#39;p&#39;。
[a-z]  匹配指定范围内的任意字符。例如，&#39;[a-z]&#39; 可以匹配 &#39;a&#39; 到 &#39;z&#39; 范围内的任意小写字母字符。
[^a-z] 匹配任何不在指定范围内的任意字符。例如，&#39;[^a-z]&#39; 可以匹配任何不在 &#39;a&#39; 到 &#39;z&#39; 范围内的任意字符。
[^$] 对空行
[^.*$] 对匹配行中任意字符串
^......$ 对包括6个字符的行
^.$ 对仅有一个字符的行
^\.[0-9][0-9] 对以一个句点和两个数字开始的行
[a-zA-Z] 对任意单字符
[0-9]\{2\}-[0-9]\{2\}-[0-9]\{4\} 对日期格式dd-mm-yyyy
[0-9]\{3\}\.[0-9]\{3\}\.[0-9]\{3\}\.[0-9]\{3\}对IP地址格式nnn.nnn.nnn.nnn
\d  匹配一个数字字符。等价于 [0-9]。
\D  匹配一个非数字字符。等价于 [^0-9]。
\f  匹配一个换页符。等价于 \x0c 和 \cL。
\n  匹配一个换行符。等价于 \x0a 和 \cJ。
\r  匹配一个回车符。等价于 \x0d 和 \cM。
\s  匹配任何空白字符，包括空格、制表符、换页符等等。等价于 [ \f\n\r\t\v]。
\S  匹配任何非空白字符。等价于 [^ \f\n\r\t\v]。
\t  匹配一个制表符。等价于 \x09 和 \cI。
\v  匹配一个垂直制表符。等价于 \x0b 和 \cK。
\w  匹配包括下划线的任何单词字符。等价于&#39;[A-Za-z0-9_]&#39;。
\W  匹配任何非单词字符。等价于 &#39;[^A-Za-z0-9_]&#39;。
</pre></div>


<h1>awk&amp;&amp;sed常用语句</h1>
<div class="highlight"><pre><span></span>awk 统计次数
awk &#39;/200/&amp;&amp;/192.168.3.194/{a[$11]+=1}END{for (j in a)print j,a[j]}&#39; aa.txt     统计出现的次数

awk 求和
awk &#39;BEGIN{sum=0}/200/&amp;&amp;/192.168.3.194/{sum+=$11}END{print sum}&#39; aa.txt     匹配并求和

awk求平均值
awk &#39;/200/&amp;&amp;/192.168.3.194/{a+=$11}END{print a/NR}’ aa.txt

awk求最大值
awk &#39;BEGIG{a=0}{if($11&gt;a)a=$11 fi}END{print a}’ aa.txt

awk求最小值
cat you.txt |awk &#39;BEGIN{a=11111}{if ($1&lt;a) a=$1 fi}END{print a}’

awk 去重
awk &#39;!a[$1]++&#39; 1.txt   根据第一列去重
awk &#39;{a[$1]=$0}END{for(i in a)print a[i]}&#39; 1.txt  根据第一列去重

sed打印日志的时间段
sed -rn &quot;/2015-04[-01|-06]/p” time.txt
</pre></div>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

<script type="text/javascript">
    var disqus_shortname = 'linuxzen';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>